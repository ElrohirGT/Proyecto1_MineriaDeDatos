---
title: "CineVision - Clustering, Apriori, PCA"
author: "Flavio Galán, José Prince"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_float: true
    theme: paper
editor_options: 
  markdown: 
    wrap: sentence
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

[Repositorio](https://github.com/ElrohirGT/Proyecto1_MineriaDeDatos.git)

# Prepocesamiento de los datos
```{r}
library(cluster) 
library(hopkins)
library(factoextra)
library(ggplot2)

datos <- read.csv("../data/movies.csv")
datos_num <- datos[, sapply(datos, is.numeric)]
datos_num <- datos_num[, -1]
```

Acá podemos encontrar las siguientes variables: **`r colnames(datos)`**. 

Para el análisis de los datos solo se necesitaran de las variables que se categorizaron como cuantitativas durante el análisis exploratorio. Se toma esta decisión debido a que en los métodos de clustering a utilizar se basan en variables cuantitativas por lo que para evitar ambiguedades se omite el agrupamiente de este tipo de variables y obtener un mejor resultado en el agrupamiento de datos. De igual forma otra variable que no aporta información al agrupamiento es justamente la que contiene el id de los datos, en este caso siendo "id", esto se debe a que esta variable al agruparla no aporta ningún tipo de información. 

Obteniendo las siguientes columnas a analizar: **`r colnames(datos_num)`**.

Viendo con más detalle cada una de las variables escogidas.

- budget: el presupuesto utilizado para la película.
- revenue: las ganancias de la película. 
- runtime: duración total de la película.
- popularity: índice de popularidad de la película, calculada semanalmente.
- voteAvg: promedio de votos para la película.
- voteCount: número de votos para la película.
- genresAmount: cantidad total de generos destinados a una película.
- productionCoAmount: cantidad de compañías productoras que participaron en la película.
- productionCountriesAmount: cantidad de países en los que se rodó la película.
- actorsAmount: cantidad de personas que actuan en la película.

# Hopkings y VAT
```{r iniciso 2}
set.seed(123)
datos_dist <- dist(head(datos_num, 300))
fviz_dist(datos_dist, show_labels = F)
```
Analizando el estadístico de Hopkings obtenemos que su valor es de **`hopkins(datos_num)`**, esto nos indica que los datos tienen una fuerte estructura de agrupamiento. Para 

```{r VAT}
datos_dist <- dist(head(datos_num, 300))
fviz_dist(datos_dist, show_labels = F)
```
